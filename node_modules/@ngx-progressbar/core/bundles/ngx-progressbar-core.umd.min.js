!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs/BehaviorSubject"),require("rxjs/observable/timer"),require("rxjs/Subject"),require("rxjs/observable/of"),require("rxjs/operators/tap"),require("rxjs/operators/map"),require("rxjs/operators/skip"),require("rxjs/operators/delay"),require("rxjs/operators/filter"),require("rxjs/operators/debounce"),require("rxjs/operators/switchMap"),require("rxjs/operators/combineLatest"),require("rxjs/operators/distinctUntilChanged"),require("@angular/core"),require("rxjs/observable/empty"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ngx-progressbar/core",["exports","rxjs/BehaviorSubject","rxjs/observable/timer","rxjs/Subject","rxjs/observable/of","rxjs/operators/tap","rxjs/operators/map","rxjs/operators/skip","rxjs/operators/delay","rxjs/operators/filter","rxjs/operators/debounce","rxjs/operators/switchMap","rxjs/operators/combineLatest","rxjs/operators/distinctUntilChanged","@angular/core","rxjs/observable/empty","@angular/common"],e):e((t["ngx-progressbar"]=t["ngx-progressbar"]||{},t["ngx-progressbar"].core={}),t.Rx,t.Rx.Observable,t.Rx,t.Rx.Observable,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.ng.core,t.Rx.Observable,t.ng.common)}(this,function(t,e,r,n,i,o,s,a,c,p,u,g,d,l,h,f,m){"use strict";var b=function(){function t(t){var i=this;this._state={active:!1,value:0},this._trickling$=new n.Subject,this.state$=new e.BehaviorSubject(this._state),this.config$=new n.Subject,this._trickling$.pipe(u.debounce(function(t){return r.timer(t?i._config.debounceTime:0)}),d.combineLatest(this.config$),g.switchMap(function(t){var e=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=o.next()).done;)s.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return s}(t,2),r=e[0],n=e[1];return r?i._trickling(n):i._complete(n)})).subscribe(),this.setConfig(t)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._state.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"started",{get:function(){return this.state$.pipe(s.map(function(t){return t.active}),l.distinctUntilChanged(),p.filter(function(t){return t}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return this.state$.pipe(s.map(function(t){return t.active}),l.distinctUntilChanged(),p.filter(function(t){return!t}),a.skip(1))},enumerable:!0,configurable:!0}),t.prototype.start=function(){this._trickling$.next(!0)},t.prototype.complete=function(){this._trickling$.next(!1)},t.prototype.inc=function(t){var e=this._state.value;this.isStarted?("number"!=typeof t&&(t=this._config.trickleFunc(e)),this.set(e+t)):this.start()},t.prototype.set=function(t){this._setState({value:this._clamp(t),active:!0})},t.prototype.setConfig=function(t){this._config=Object.assign({},this._config,t),this.config$.next(this._config)},t.prototype.destroy=function(){this._trickling$.complete(),this.state$.complete(),this.config$.complete()},t.prototype._setState=function(t){this._state=Object.assign({},this._state,t),this.state$.next(this._state)},t.prototype._clamp=function(t){return Math.max(this._config.min,Math.min(this._config.max,t))},t.prototype._trickling=function(t){var e=this;return this.isStarted||this.set(this._config.min),r.timer(0,t.trickleSpeed).pipe(o.tap(function(){return e.inc()}))},t.prototype._complete=function(t){var e=this;return this.isStarted?i.of({}).pipe(o.tap(function(){return e._setState({value:100})}),c.delay(1.7*t.speed),o.tap(function(){return e._setState({active:!1})}),c.delay(t.speed),o.tap(function(){return e._setState({value:0})})):i.of({})},t}(),y=new h.InjectionToken("config"),x={meteor:!0,spinner:!0,thick:!1,ease:"linear",spinnerPosition:"right",direction:"ltr+",color:"#1B95E0",max:100,min:8,speed:200,trickleSpeed:300,debounceTime:0,trickleFunc:function(t){return 0<=t&&t<20?10:20<=t&&t<50?4:50<=t&&t<80?2:80<=t&&t<99?.5:0}},v=function(){function t(t){this._instances={},this.config=Object.assign({},x,t)}return t.prototype.ref=function(t,e){return void 0===t&&(t="root"),this._instances[t]instanceof b?this._instances[t]:(e=Object.assign({},this.config,e),this._instances[t]=new b(e))},t.prototype.setConfig=function(t,e){void 0===e&&(e="root"),this._instances[e]instanceof b&&this._instances[e].setConfig(t)},t.prototype.start=function(t){void 0===t&&(t="root"),this._instances[t]instanceof b&&this._instances[t].start()},t.prototype.set=function(t,e){void 0===e&&(e="root"),this._instances[e]instanceof b&&this._instances[e].set(t)},t.prototype.inc=function(t,e){void 0===e&&(e="root"),this._instances[e]instanceof b&&this._instances[e].inc(t)},t.prototype.complete=function(t){void 0===t&&(t="root"),this._instances[t]instanceof b&&this._instances[t].complete()},t.prototype.isStarted=function(t){return void 0===t&&(t="root"),this._instances[t]instanceof b&&this._instances[t].isStarted},t.prototype.started=function(t){return void 0===t&&(t="root"),this._instances[t]instanceof b?this._instances[t].started:f.empty()},t.prototype.completed=function(t){return void 0===t&&(t="root"),this._instances[t]instanceof b?this._instances[t].ended:f.empty()},t.prototype.destroy=function(t){void 0===t&&(t="root"),this._instances[t]instanceof b&&(this._instances[t].destroy(),this._instances[t]=null)},t.prototype.destroyAll=function(){var e=this;Object.keys(this._instances).map(function(t){e._instances[t].destroy(),e._instances[t]=null})},t}();v.decorators=[{type:h.Injectable}],v.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Optional},{type:h.Inject,args:[y]}]}]};
/**
 * @license
 * Copyright ngx-progressbar All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/MurhafSousli/ngx-progressbar/blob/master/LICENSE
 */
var _=function(){function t(t){this._ngProgress=t,this.id="root",this.spinnerPosition=this._ngProgress.config.spinnerPosition,this.direction=this._ngProgress.config.direction,this.ease=this._ngProgress.config.ease,this.color=this._ngProgress.config.color,this.meteor=this._ngProgress.config.meteor,this.spinner=this._ngProgress.config.spinner,this.thick=this._ngProgress.config.thick,this.max=this._ngProgress.config.max,this.min=this._ngProgress.config.min,this.speed=this._ngProgress.config.speed,this.trickleSpeed=this._ngProgress.config.trickleSpeed,this.trickleFunc=this._ngProgress.config.trickleFunc,this.debounceTime=this._ngProgress.config.debounceTime,this.started=new h.EventEmitter,this.completed=new h.EventEmitter}return t.prototype.ngOnChanges=function(){this.progressRef instanceof b&&this.progressRef.setConfig({max:0<this.max&&this.max<=100?this.max:100,min:this.min<100&&0<=this.min?this.min:0,speed:this.speed,trickleSpeed:this.trickleSpeed,trickleFunc:this.trickleFunc,debounceTime:this.debounceTime})},t.prototype.ngOnInit=function(){var t=this;this.progressRef=this._ngProgress.ref(this.id,{max:this.max,min:this.min,speed:this.speed,trickleSpeed:this.trickleSpeed,debounceTime:this.debounceTime}),this.state$=this.progressRef.state$.pipe(s.map(function(t){return{active:t.active,transform:"translate3d("+t.value+"%,0,0)"}})),this.started.observers.length&&(this._started$=this.progressRef.started.subscribe(function(){return t.started.emit()})),this.completed.observers.length&&(this._completed$=this.progressRef.completed.subscribe(function(){return t.completed.emit()}))},t.prototype.ngOnDestroy=function(){this._started$&&this._started$.unsubscribe(),this._completed$&&this._completed$.unsubscribe(),this._ngProgress.destroy(this.id)},t.prototype.start=function(){this.progressRef.start()},t.prototype.complete=function(){this.progressRef.complete()},t.prototype.inc=function(t){this.progressRef.inc(t)},t.prototype.set=function(t){this.progressRef.set(t)},Object.defineProperty(t.prototype,"isStarted",{get:function(){return this.progressRef.isStarted},enumerable:!0,configurable:!0}),t}();function k(t){return new v(t)}_.decorators=[{type:h.Component,args:[{selector:"ng-progress",host:{role:"progressbar","[attr.spinnerPosition]":"spinnerPosition","[attr.dir]":"direction","[attr.thick]":"thick"},template:'\n    <ng-container *ngIf="state$ | async; let state">\n      <div class="ng-progress-bar"\n            [class.-active]="state.active"\n            [style.transition]="\'opacity \' + speed + \'ms \' + ease">\n        <div class="ng-bar-placeholder">\n          <div class="ng-bar"\n                [style.transform]="state.transform"\n                [style.backgroundColor]="color"\n                [style.transition]="state.active ? \'all \' + speed + \'ms \' + ease : \'none\'">\n            <div *ngIf="meteor" class="ng-meteor" [style.boxShadow]="\'0 0 10px \'+ color + \', 0 0 5px \' + color"></div>\n          </div>\n        </div>\n        <div *ngIf="spinner" class="ng-spinner">\n          <div class="ng-spinner-icon"\n                [style.borderTopColor]="color"\n                [style.borderLeftColor]="color"></div>\n        </div>\n      </div>\n    </ng-container>\n  ',styles:["ng-progress{z-index:999999;pointer-events:none;position:relative}.ng-progress-bar{z-index:999999;top:0;left:0;width:100%;position:fixed;zoom:1;opacity:0}.ng-progress-bar.-active{opacity:1;-webkit-transition:none;transition:none}.ng-bar-placeholder{position:absolute;height:2px;width:100%}.ng-bar{width:100%;height:100%;-webkit-transform:translate(-100%,0,0);transform:translate(-100%,0,0)}.ng-meteor{display:block;position:absolute;width:100px;height:100%;opacity:1}.ng-spinner{display:block;position:fixed;z-index:1031;top:15px}.ng-spinner-icon{width:18px;height:18px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:.4s linear infinite spinner-animation;animation:.4s linear infinite spinner-animation;border:2px solid transparent;border-radius:50%}[dir='ltr+'] .ng-meteor,[dir=ltr-] .ng-meteor{-webkit-transform:rotate(3deg);transform:rotate(3deg)}[dir='ltr+'][thick=true] .ng-meteor,[dir=ltr-][thick=true] .ng-meteor{-webkit-transform:rotate(4deg);transform:rotate(4deg)}[dir='ltr+'] .ng-bar,[dir='rtl+'] .ng-bar{margin-left:-100%}[dir='ltr+'] .ng-meteor,[dir='rtl+'] .ng-meteor{right:0}[dir='ltr+'] .ng-meteor,[dir=rtl-] .ng-meteor{top:-3px}[dir='ltr+'][thick=true] .ng-meteor,[dir=rtl-][thick=true] .ng-meteor{top:-4px}[dir='rtl+'] .ng-meteor,[dir=ltr-] .ng-meteor{bottom:-3px}[dir='rtl+'][thick=true] .ng-meteor,[dir=ltr-][thick=true] .ng-meteor{bottom:-4px}[dir='rtl+'] .ng-bar-placeholder,[dir=ltr-] .ng-bar-placeholder{-webkit-transform:rotate(180deg);transform:rotate(180deg)}[dir='rtl+'] .ng-spinner-icon,[dir=ltr-] .ng-spinner-icon{animation-direction:reverse}[dir='rtl+'] .ng-meteor,[dir=rtl-] .ng-meteor{-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}[dir='rtl+'][thick=true] .ng-meteor,[dir=rtl-][thick=true] .ng-meteor{-webkit-transform:rotate(-4deg);transform:rotate(-4deg)}[thick=true] .ng-spinner-icon{width:24px;height:24px;border-width:3px}[thick=true] .ng-bar-placeholder{height:3px}[spinnerPosition=left] .ng-spinner{left:15px;right:unset}[spinnerPosition=right] .ng-spinner{right:15px}@-webkit-keyframes spinner-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"],encapsulation:h.ViewEncapsulation.None,changeDetection:h.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],_.ctorParameters=function(){return[{type:v}]},_.propDecorators={id:[{type:h.Input}],spinnerPosition:[{type:h.Input}],direction:[{type:h.Input}],ease:[{type:h.Input}],color:[{type:h.Input}],meteor:[{type:h.Input}],spinner:[{type:h.Input}],thick:[{type:h.Input}],max:[{type:h.Input}],min:[{type:h.Input}],speed:[{type:h.Input}],trickleSpeed:[{type:h.Input}],trickleFunc:[{type:h.Input}],debounceTime:[{type:h.Input}],started:[{type:h.Output}],completed:[{type:h.Output}]};var j=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:y,useValue:t},{provide:v,useFactory:k,deps:[y]}]}},e}();j.decorators=[{type:h.NgModule,args:[{declarations:[_],exports:[_],imports:[m.CommonModule]}]}],j.ctorParameters=function(){return[]},t.NgProgressFactory=k,t.NgProgressModule=j,t.NgProgressComponent=_,t.NgProgressRef=b,t.NgProgress=v,t.ɵa=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-progressbar-core.umd.min.js.map
